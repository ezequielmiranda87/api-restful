<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>

<form action="" method="post">
    <label for="email">Email:</label>
    <input id ="email" name ="email" type="text">

    <label for="password">Password</label>
    <input id="password" name ="password" type="text">

    <input type="submit" value="Login">
</form>   
 
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>

<script>

const axios = this.axios;
//axios.defaults.headers.common['Authorization'] = 'Bearer ' + getToken()

signUp()
function signIn(){
    //const email     = document.getElementById('email')
    //const password  = document.getElementById('password')

    axios({
        method:'post',
        url: 'http://localhost:3000/api/signin',
        data:{
            email:"email",
            password:"password"
        }
    })
    .then((response)=>{
        console.log(response)
    })
    .catch((err)=>{
        console.log(err)
    })
}


function signUp(){
    axios({
        method:'post',
        url: 'http://localhost:3000/api/signup',
        data:{
            email:"Aemail",
            displayName: "AdisplayName",
            password:"Apassword"
        }
    })
    .then((response)=>{
        console.log(response)
    })
    .catch((err)=>{
        console.log(err)
    })
}

function signOut(){
    deleteToken()
}



function saveToken(token){
    if(typeof(Storage)!== "undefined"){
        localStorage.setItem("TOKEN",token)
    }else{
        throw new Error('El navegador no soporta localStorage')
    }
}

function getToken(){
    return localStorage.getItem("TOKEN")
}

function deleteToken(){
    localStorage.removeItem("TOKEN")
}




</script>
</body>
</html>